local default_fg = "8"
local default_bg = "1"

-- f(<char 1-3>, <fg>, [bg])
function palette_recolor(char, fg, bg)
    local glyph, fg_orig, bg_orig = utf8.charat(char,1), utf8.charat(char,2), utf8.charat(char,3)
    if fg_orig == "" then fg_orig = nil end
    if bg_orig == "" then bg_orig = nil end
    fg = fg or fg_orig or default_fg
    bg = bg or bg_orig or ""
    return glyph..fg..bg
end

return {
    default_fg = default_fg,
    default_bg = default_bg,
    ["1"] = {0x00/0xff, 0x2b/0xff, 0x36/0xff}, -- base3  darkest
    ["2"] = {0x07/0xff, 0x36/0xff, 0x42/0xff}, -- base2
    ["3"] = {0x58/0xff, 0x6e/0xff, 0x75/0xff}, -- base1
    ["4"] = {0x65/0xff, 0x7b/0xff, 0x83/0xff}, -- base0
    ["5"] = {0x83/0xff, 0x94/0xff, 0x96/0xff}, -- base00
    ["6"] = {0x93/0xff, 0xa1/0xff, 0xa1/0xff}, -- base01
    ["7"] = {0xee/0xff, 0xe8/0xff, 0xd5/0xff}, -- base02
    ["8"] = {0xfd/0xff, 0xf6/0xff, 0xe3/0xff}, -- base03 lightest
    ["y"] = {0xb5/0xff, 0x89/0xff, 0x00/0xff}, -- yellow
    ["o"] = {0xcb/0xff, 0x4b/0xff, 0x16/0xff}, -- orange
    ["r"] = {0xdc/0xff, 0x32/0xff, 0x2f/0xff}, -- red
    ["m"] = {0xd3/0xff, 0x36/0xff, 0x82/0xff}, -- magenta
    ["v"] = {0x6c/0xff, 0x71/0xff, 0xc4/0xff}, -- violet
    ["b"] = {0x26/0xff, 0x8b/0xff, 0xd2/0xff}, -- blue
    ["c"] = {0x2a/0xff, 0xa1/0xff, 0x98/0xff}, -- cyan
    ["g"] = {0x85/0xff, 0x99/0xff, 0x00/0xff}, -- green
}